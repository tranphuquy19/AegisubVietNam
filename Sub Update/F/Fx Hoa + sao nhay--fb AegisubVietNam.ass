[Script Info]
Title: Default Aegisub file
ScriptType: v4.00+
WrapStyle: 0
ScaledBorderAndShadow: yes
Collisions: Normal
Last Style Storage: Default
Scroll Position: 0
Active Line: 9
Video Zoom Percent: 1
YCbCr Matrix: None

[V4+ Styles]
Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding
Style: Default,UVN Thoi Dai 2,100,&H00FFFFFF,&H000000FF,&H00000000,&H00000000,0,0,0,0,100,100,0,0,1,2,2,5,10,10,10,1
Style: Default-furigana,UVN Bai Sau,90,&H00FFFFFF,&H000000FF,&H00000000,&H00000000,0,0,0,0,100,100,0,0,1,1,1,8,10,10,95,1

[Events]
Format: Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text
Comment: 1,0:00:00.00,0:00:00.00,Default,,0,0,0,template syl noblank notext,!retime("start2syl",-700+syl.i*50,0)!{\an5\bord3\blur8\3c!_G.ass_color(_G.HSV_to_RGB(10,j/maxj,1))!\1c&HFFFFFF&\be1.2\fad(300,0)\pos($scenter,!$smiddle+14!)\c&HE7C6FF&\fscx50\fscy50\q5\t(0,300,\fscx220\fscy220)\q5\t(300,500,\fscx100\fscy100)\frz!math.random(-40,40)!\t(100,900,\alpha&HFF&)\p1}m 15 27 b 27 19 29 15 29 11 b 31 5 21 -5 15 4 b 9 -5 -1 5 1 11 b 1 15 3 19 15 27 m 22 4 l 24 3 l 25 5 l 23 6 m 24 7 b 25 5 26 6 27 9 b 27 11 26 16 22 19 b 24 16 27 10 24 7
Comment: 1,0:00:00.00,0:00:00.00,Default,,0,0,0,template noblank,!retime("start2syl",-300+($si-1)*20,0)!{\an5\shad0\move(!$scenter+math.random(-2,15)!, !$smiddle+math.random(-8,15)!,$scenter,$smiddle,0,300)\fad(200,0)\c!line.styleref.color1!\frx!math.random(-20,20)!\fry!math.random(-20,20)!\frz!math.random(-40,40)!\t(0,250,\frx0\fry0\frz0)\1vc(!(xno[$si] == 1) and c[1] or ((xno[$si] == 2) and c[2] or ((xno[$si] == 3) and c[3] or ((xno[$si] == 4) and c[4] or c[5])))!,&HFFFFFF&,&HFFFFFF&,!(xno[$si] == 1) and c[1] or ((xno[$si] == 2) and c[2] or ((xno[$si] == 3) and c[3] or ((xno[$si] == 4) and c[4] or c[5])))!)}
Comment: 0,0:00:00.00,0:00:00.00,Default,,0,0,0,code syl line all,leadin = "600" ; startleadin = "750"; twinkle = "m 33 31 b 38 27 30 20 26 24 b 22 29 28 36 33 31 m 27 32 l 9 49 l 26 31 m 33 26 l 51 7 l 32 24 m 34 30 l 49 47 l 33 32 m 27 24 l 10 8 l 26 25" ; starheart = {"m 23 0 l 15 12 l 0 16 l 10 27 l 9 42 l 23 36 l 37 42 l 36 27 l 46 16 l 31 12","m 22 42 b 29 28 43 23 43 13 b 44 3 29 -7 22 8 b 17 -7 -1 3 0 13 b 0 23 16 28 22 42 "}
Comment: 0,0:00:00.00,0:00:00.00,Default,,0,0,0,code syl line all,function char_counter(ref) ci[ref] = ci[ref] + 1; return "" end ;   function AutoTags(Intervalo,Dato1,Dato2)            local RESULTADO=""     local SUERTE = 0     local CONTADOR = 0     local ARREGLO = 0                           local count = math.ceil(line.duration/Intervalo)                 			ARREGLO = {Dato1,Dato2}    			              for i = 1, count do               CONTADOR = i    	    	    		if Dato1 and Dato2 then     					if  CONTADOR%2 ==0 then    								SUERTE = ARREGLO[1]    					else    								SUERTE = ARREGLO[2]    					end	    		end     				    	RESULTADO = RESULTADO .."\\t(" ..(i-1)*Intervalo.. "," ..i*Intervalo.. ",\\" ..SUERTE..")"..""     			     end         		     return RESULTADO	  	    	               end ;
Comment: 0,0:00:00.00,0:00:00.00,Default,,0,0,0,code line all,ci = {0,0}; cn = _G.unicode.len(orgline.text_stripped:gsub(" ",""));
Comment: 0,0:00:00.00,0:00:00.00,Default,,0,0,0,code syl line all,c = {"&HFFE91D&","&H6CFF1D&","&H1DFFFD&","&H1DADFF&","&H871DFF&"} ; xno = {1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5,1,2,3,4,5} ; tuyet = { "m 25 0 l 34 15 l 50 19 l 40 33 l 41 49 l 25 43 l 11 50 l 11 33 l 0 21 l 15 15 l 25 0 "  ,"m 40 0 b -17 0 -17 81 41 81 b 101 81 101 1 40 0 ", "m 26 -1 b -9 -1 -9 50 26 50 b 65 50 65 -1 26 -1 ", "m 5 3 b 10 -3 25 -3 31 2 b 37 7 38 20 32 25 b 27 30 10 29 5 24 b -1 20 -2 8 5 3 "}
Comment: 0,0:00:00.26,0:00:00.26,Default,,0,0,0,template notext noblank loop 5,!retime("line",-30,100)!{\pos(!$lleft-80!,!$lmiddle-1!)\1vc(&HFFFFFF&,&HFFFFFF&,&H86F8FA&,&H86F8FA&)\3c&H019496&\alpha0\bord1\blur2)\fr!-(360/maxj)*(j-1)!\t(0,1000,\1vc(&HFFFFFF&,&HFFFFFF&,&H86F8FA&,&H86F8FA&)\3c&H019496&\bord1\blur2\fscx15\fscy15\fr!-(360/maxj)*(j-1)-90!)\t(1000,3000,\fr!-(360/maxj)*(j-1)-360!)\1vc(&HFFFFFF&,&HFFFFFF&,&H86F8FA&,&H86F8FA&)\3c&H019496&\bord1\blur2\fscx120\fscy120\shad0\bord1\p1\be1\an5}m 35 41 b 32 40 31 41 29 40 b 25 40 22 38 18 35 b 16 32 13 27 13 24 b 13 22 13 21 14 20 b 17 21 18 22 20 22 b 19 20 19 20 18 17 b 21 16 23 16 23 16 b 26 18 29 19 32 24 b 34 29 35 32 34 35 b 34 38 34 39 35 41}
Comment: 0,0:00:00.26,0:00:00.26,Default,,0,0,0,template notext noblank loop 5,!retime("line",-30,100)!{\pos(!$lright+70!,!$lmiddle-1!)\1vc(&HFFFFFF&,&HFFFFFF&,&H86F8FA&,&H86F8FA&)\3c&H019496&\alpha0\bord1\blur2)\fr!-(360/maxj)*(j-1)!\t(0,1000,\1vc(&HFFFFFF&,&HFFFFFF&,&H86F8FA&,&H86F8FA&)\3c&H019496&\bord1\blur2\fscx15\fscy15\fr!-(360/maxj)*(j-1)-90!)\t(1000,3000,\fr!-(360/maxj)*(j-1)-360!)\1vc(&HFFFFFF&,&HFFFFFF&,&H86F8FA&,&H86F8FA&)\3c&H019496&\bord1\blur2\fscx120\fscy120\shad0\bord1\p1\be1\an5}m 35 41 b 32 40 31 41 29 40 b 25 40 22 38 18 35 b 16 32 13 27 13 24 b 13 22 13 21 14 20 b 17 21 18 22 20 22 b 19 20 19 20 18 17 b 21 16 23 16 23 16 b 26 18 29 19 32 24 b 34 29 35 32 34 35 b 34 38 34 39 35 41}
Comment: 0,0:00:01.00,0:00:01.00,Default,,0,0,0,code line all,function AutoTags(Intervalo,Dato1,Dato2)            local RESULTADO=""     local SUERTE = 0     local CONTADOR = 0     local ARREGLO = 0                           local count = math.ceil(line.duration/Intervalo)                 			ARREGLO = {Dato1,Dato2}    			              for i = 1, count do               CONTADOR = i    	    	    		if Dato1 and Dato2 then     					if  CONTADOR%2 ==0 then    								SUERTE = ARREGLO[1]    					else    								SUERTE = ARREGLO[2]    					end	    		end     				    	RESULTADO = RESULTADO .."\\t(" ..(i-1)*Intervalo.. "," ..i*Intervalo.. ",\\" ..SUERTE..")"..""     			     end         		     return RESULTADO	  	    	               end
Comment: 0,0:00:01.00,0:00:01.00,Default,,0,0,0,code line all,color = {"90","1900"}; ci = { 0,0 }; cn = _G.unicode.len(orgline.text_stripped:gsub(" ",""))
Comment: 0,0:00:01.00,0:00:01.00,Default,,0,0,0,code once,rand = 0
Comment: 0,0:00:00.99,0:00:00.99,Default,,0,0,0,code syl,rand = math.random(-45,45)
Comment: 0,0:00:01.00,0:00:01.00,Default,,0,0,0,template noblank multi,!retime("syl",0,0)!{\pos($scenter,$smiddle)\an5\bord0.5\blur6\3c!_G.ass_color(_G.HSV_to_RGB(360*(syl.i/$syln)*$kdur,1,1))!\1c&HFFFFFF&)\frz!rand!\t(0,!line.duration/2.5!,0.5,\fscx140\fscy140\bord0.5\blur8)\frz!rand!\t(!line.duration/2.5!,!line.duration!,0.8,\fscx100\fscy100\bord0.5\blur6)}
Comment: 0,0:00:01.00,0:00:01.00,Default,,0,0,0,template noblank,!retime("syl2end",0,50*(syl.i-$syln))!{\pos($scenter,$smiddle)\3c!_G.ass_color(_G.HSV_to_RGB(color[1]+(color[2]-color[1])*(ci[1]-1)/(cn-1),1,1))!\an5\bord0.5\blur8\fad(0,300)}
Comment: 0,0:00:00.00,0:00:00.00,Default,Get Scr Resolution,0,0,0,code once,xres, yres = _G.aegisub.video_size() if xres == nil  then ratio = 1 else ratio = yres/720 x_rat = ratio end if (xres and xres ~= meta.res_x) or (yres and yres ~= meta.res_y) then _G.aegisub.debug.out(2, "Warning: script resolution %dx%d does not match with loaded video resolution %dx%d resample script resolution(menu>subtitles>resample resolution>click from video)", meta.res_x, meta.res_y, xres, yres) end shape = {"m 6 0 b 0 0 0 10 6 10 b 12 10 13 0 6 0 l 7 10 ","m 30 23 b 24 23 24 33 30 33 b 36 33 37 23 30 23 m 35 27 l 61 28 l 35 29 m 26 27 l 0 28 l 26 29 m 29 23 l 30 0 l 31 23 m 29 33 l 30 57 l 31 33 "} msa = _G.aegisub.ms_from_frame(1) msb = _G.aegisub.ms_from_frame(100) if msa == nil and msb == nil then frame_dur = 33 else frame_dur = (msb-msa)/100 end
Comment: 0,0:00:00.00,0:00:00.00,Default,Get Frame Dur,0,0,0,code once,msa = _G.aegisub.ms_from_frame(1) msb = _G.aegisub.ms_from_frame(101) if msa == nil and msb == nil then _G.aegisub.debug.out(2, "Warning: Please load the video or use dummy video.Frame duration was provisionally set to 33 milliseconds. ") frame_dur = 33  else frame_dur = (msb-msa)/100 end
Comment: 0,0:00:00.00,0:00:00.00,Default,,0,0,0,code once,math.randomseed(8317)
Comment: 0,0:00:00.00,0:00:00.00,Default,,0,0,0,code once,max_space = 2
Comment: 0,0:00:00.00,0:00:00.00,Default,,0,0,0,code once,x = {} y = {} temp = {}
Comment: 0,0:00:00.00,0:00:00.00,Default,,0,0,0,code once,function set_temp(ref,val) temp[ref] = val; return val; end
Comment: 0,0:00:01.00,0:00:01.00,Default,,0,0,0,code syl all,function char_counter(ref) ci[ref] = ci[ref] + 1; return "" end ;
Comment: 0,0:00:00.00,0:00:00.00,Default,Bezier Effects Function,0,0,0,code once,function Bezier_Move(s_time,e_time,aftimg_dur,x_blur,y_blur,acl,...) a = {...} if (j == 1) then t1 = s_time t2 = e_time dur = t2-t1 accel = acl n = #a/2 for i = 1,n*2-1,2 do x[(i+1)/2] = a[i] end for i = 2, n*2,2 do y[i/2] = a[i] end c_t = 0 maxloop(2) f_t = 1/(dur/frame_dur) end afterimage_dur = aftimg_dur if (afterimage_dur < 0 ) then afterimage_dur = 0 end pos_x, pos_y = Bezier(n,x,y,c_t) n_t = c_t + f_t n_x, n_y = Bezier(n,x,y,n_t) dist = math.sqrt(math.abs(n_x-pos_x)^2+math.abs(n_y-pos_y)^2) a_t =f_t*(max_space/dist) if (a_t > f_t) then a_t = f_t end n_t = c_t + a_t if (n_t < 1) then maxj = j + 1 end retime("presyl",t1+dur*(c_t^accel),t1+dur*(n_t^accel)+afterimage_dur) t = c_t c_t = n_t return string.format("\\move(%f,%f,%f,%f,%f,%f)",pos_x,pos_y,pos_x+x_blur,pos_y+y_blur,0,dur-dur*t+afterimage_dur) end
Comment: 0,0:00:00.00,0:00:00.00,Default,Bezier Effects Function,0,0,0,code once,function Bezier(n,x,y,t) p_x = 0 p_y = 0 for i = 1, n, 1 do p_y = p_y + y[i] * set_temp("bern",bernstein(i-1,n-1,t)) p_x = p_x + x[i] * temp.bern  end return p_x, p_y end
Comment: 0,0:00:00.00,0:00:00.00,Default,Bezier Effects Function,0,0,0,code once,function bernstein(i,n,t) return (factk(n) / (factk(i)*factk(n-i))) * (t^i) * ((1-t)^(n-i)) end
Comment: 0,0:00:00.00,0:00:00.00,Default,Bezier Effects Function,0,0,0,code once,function factk(n) k = 1 if (n > 1) then for i = 2, n, 1 do k = k * i end end return k end
Comment: 0,0:00:00.00,0:00:00.00,Default,Glitter function(pyointa2001),0,0,0,code once,function glitter(dur)   tag = "" temp.time = 0 while  ( dur > temp.time) do tag = tag..string.format("\\t(%d,%d,\\fscx%d\\fscy%d\\1c&HFFFFFF&\3c&HFFFFFF&\\bord%f\\blur%f)\\t(%d,%d,\\fscx%d\\fscy%d\\1c%s\\3c%s\\bord%f\\blur%f)",set_temp("time",temp.time+math.random(dur/2)),temp.time+1,set_temp("size",math.random(150,250)*ratio),temp.size,2*ratio,3*ratio,set_temp("time",temp.time+frame_dur),set_temp("time",temp.time+100),set_temp("size",math.random(50,100)*ratio),temp.size,line.styleref.color1,line.styleref.color3,1*ratio,1*ratio) end return tag end
Comment: 0,0:00:00.00,0:00:00.00,Default,Bezier Curve BreakOut,0,0,0,template noblank notext,{!Bezier_Move((syl.i==1) and -500 or -line.kara[syl.i-1].duration,0,500,math.random(-10,10),math.random(-10,30),1,(syl.i==1) and $left-70 or recall.xx,(syl.i==1) and $middle or $middle,(syl.i==1) and $left-35 or $center/2+recall.xx/2,(syl.i==1) and $middle+100 or  $middle-((syl.i%2==0) and ($center-recall.xx)*1.4 or -($center-recall.xx)*1.4),$center,$middle)!!remember("xx",$scenter)!!remember("yy",$smiddle)!\an5\bord0.5\blur8\1c&HFFFFFF&\3c!_G.ass_color(_G.HSV_to_RGB (359*(j/maxj),1,1))!\t(\frz!math.random(-360,360)!)\fscx!30*ratio!\fscy!30*ratio!\shad0\p1}!(temp.rand == 1) and shape[2] or shape[1]!
Comment: 0,0:00:00.00,0:00:00.00,Default,Bezier Curve BreakOut,0,0,0,template noblank notext,{!Bezier_Move((syl.i==1) and -500 or -line.kara[syl.i-1].duration,0,1,math.random(0,0),math.random(0,0),1,(syl.i==1) and $left-70 or recall.xxx,(syl.i==1) and $middle or $middle,(syl.i==1) and $left-35 or $center/2+recall.xxx/2,(syl.i==1) and $middle+100 or  $middle-((syl.i%2==0) and ($center-recall.xxx)*1.4 or -($center-recall.xxx)*1.4),$center,$middle)!!remember("xxx",$scenter)!!remember("yyy",$smiddle)!\frz!math.random(360)!\an7\bord1\blur5\3c&HFFFFFF&\1c&HFFFFFF&\fscx!30*ratio!\fscy!30*ratio!\shad0\p1}m 0 -23 l -8 -11 l -23 -7 l -13 4 l -14 19 l 0 13 l 14 19 l 13 4 l 23 -7 l 8 -11
Comment: 0,0:00:00.00,0:00:00.00,Default,Sparkles,0,0,0,template char notext loop 2,!retime("syl",math.random(-50,50),math.random(600,1000))!{\moves3($scenter,$smiddle,!$scenter+math.random(-100,100)!,!$smiddle+math.random(-80,80)!,!$scenter+math.random(-100,100)!,!$smiddle+math.random(-80,80)!)\an5\shad0\fad(50,80)\3c&HFFFFFF&\1c&HFFFFFF&\bord1\blur4\fsc!math.random(20,50)!!glitter(line.duration)!\shad0\p1}m 0 0 l 2 0 l 2 2 l 0 2
Comment: 0,0:00:00.00,0:00:00.00,Default,Sparkles,0,0,0,template noblank notext loop 3,!retime("syl",math.random(-50,50),math.random(300,1200))!{\moves4($scenter,$smiddle,!$scenter+math.random(-50,90)!,!$smiddle+math.random(-80,80)!,!$scenter+math.random(-40,160)!,!$smiddle+math.random(-80,80)!,!$sright+math.random(10,60)!,!math.random($stop,$bottom)!)\an5\fad(50,80)\shad0\3c&HFFFFFF&\1c&HFFFFFF&\bord2\blur5\fsc!math.random(30,100)!!glitter(line.duration)!\p1}m 0 0 l 2 0 l 2 2 l 0 2
Dialogue: 0,0:00:00.00,0:00:05.00,Default,,0,0,0,,
